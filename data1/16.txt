Expected: loader constraint violation for class test.Task: when selecting overriding method 'test.Foo test.Task.m()' the class loader PreemptingClassLoader @<id> of the selected method's type test.Task, and the class loader 'app' for its super type test.J have different Class objects for the type test.Foo used in the signature (test.Task is in unnamed module of loader PreemptingClassLoader @
but got:  loader constraint violation for class test.Task: when selecting overriding method 'test.Foo test.Task.m()' the class loader PreemptingClassLoader @7eac2887 of the selected method's type test.Task, and the class loader 'app' for its super type test.J have different Class objects for the type test/Foo used in the signature (test.Task is in unnamed module of loader PreemptingClassLoader @7eac2887, parent loader 'app'; test.J is in unnamed module of loader 'app')
STDERR:
java.lang.RuntimeException: Wrong LinkageError exception thrown: loader constraint violation for class test.Task: when selecting overriding method 'test.Foo test.Task.m()' the class loader PreemptingClassLoader @7eac2887 of the selected method's type test.Task, and the class loader 'app' for its super type test.J have different Class objects for the type test/Foo used in the signature (test.Task is in unnamed module of loader PreemptingClassLoader @7eac2887, parent loader 'app'; test.J is in unnamed module of loader 'app')
        at Test.test(Test.java:83)
        at Test.main(Test.java:90)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:567)
        at com.sun.javatest.regtest.agent.MainWrapper$MainThread.run(MainWrapper.java:127)
        at java.base/java.lang.Thread.run(Thread.java:830)

JavaTest Message: Test threw exception: java.lang.RuntimeException: Wrong LinkageError exception thrown: loader constraint violation for class test.Task: when selecting overriding method 'test.Foo test.Task.m()' the class loader PreemptingClassLoader @7eac2887 of the selected method's type test.Task, and the class loader 'app' for its super type test.J have different Class objects for the type test/Foo used in the signature (test.Task is in unnamed module of loader PreemptingClassLoader @7eac2887, parent loader 'app'; test.J is in unnamed module of loader 'app')
JavaTest Message: shutting down test
